// =============================================================================
// UI 컴포넌트 믹스인 (Button, Link, Chip, Typography, Icon)
// =============================================================================

@use 'primitives/typography' as t;
@use 'primitives/spacing' as s;
@use 'primitives/effects' as e;
@use 'semantic/colors' as sc;

// ---- Button Modifier: small / rounded (variant와 조합용) ----
@mixin button-modifier-small {
  padding: s.$space-xs s.$space-md;
  font-size: t.$font-size-sm;
  border-radius: s.$radius-sm;
}

@mixin button-modifier-rounded {
  border-radius: s.$radius-full;
}

@mixin button-modifier-icon {
  padding: s.$space-sm;
  min-width: 2.5rem;
  min-height: 2.5rem;
  width: fit-content;
  height: fit-content;
  font-size: t.$font-size-xl;
  font-weight: t.$font-weight-semibold;
  line-height: t.$line-height-none;
}

@mixin button-modifier-icon-padding {
  padding: s.$space-sm;
}

// ---- Button Primary (빨간색) ----
@mixin button-primary {
  @include button-base;
  background-color: sc.$color-primary;
  color: sc.$color-text-inverse;
  box-shadow: inset 0 0 0 1px sc.$color-primary;
  &:hover:not(:disabled) {
    background-color: sc.$color-primary-strong;
    box-shadow: inset 0 0 0 1px sc.$color-primary-strong;
  }
  &:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 1px sc.$color-primary-strong, sc.$shadow-focus;
  }
}

// ---- Button Gray (회색 solid) ----
@mixin button-gray {
  @include button-base;
  background-color: sc.$color-bg-dim;
  color: sc.$color-text-base;
  box-shadow: inset 0 0 0 1px transparent;
  &:hover:not(:disabled) {
    background-color: sc.$color-bg-dimmer;
  }
  &:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 1px transparent, sc.$shadow-focus-neutral;
  }
}

// ---- Button Outline (아웃라인) ----
@mixin button-outline {
  @include button-base;
  background-color: sc.$color-bg-base;
  color: sc.$color-primary;
  box-shadow: inset 0 0 0 1px sc.$color-primary;
  &:hover:not(:disabled) {
    background-color: sc.$color-primary-dimmer;
    box-shadow: inset 0 0 0 1px sc.$color-primary;
  }
  &:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 1px sc.$color-primary, sc.$shadow-focus;
  }
}

// ---- Button Disabled ----
@mixin button-disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

// ---- Button Base ----
@mixin button-base {
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: s.$space-xs;
  padding: s.$space-sm s.$space-lg;
  border-radius: s.$radius-md;
  font-family: t.$font-family-fallback;
  font-size: t.$font-size-base;
  font-weight: t.$font-weight-medium;
  line-height: t.$line-height-relaxed;
  cursor: pointer;
  border: none;
  box-shadow: inset 0 0 0 1px transparent;
  transition: background-color e.$transition-fast, color e.$transition-fast, box-shadow e.$transition-fast;
  white-space: nowrap;
}

// ---- Link ----
@mixin link-base {
  color: sc.$color-primary;
  font-weight: t.$font-weight-semibold;
  text-decoration: none;
  transition: color e.$transition-fast, text-decoration e.$transition-fast;
  text-decoration: underline;
  outline: none;
  border: none;
  background-color: unset;
  padding: unset;
  cursor: pointer;
  &:hover {
    text-decoration: none;
  }
  &:focus-visible {
    outline: 2px solid sc.$color-primary;
    outline-offset: -2px;
  }
}

// ---- Typography ----
@mixin text-heading-lg {
  font-size: t.$font-size-2xl;
  font-weight: t.$font-weight-bold;
  color: sc.$color-text-base;
  line-height: t.$line-height-tight;
}

@mixin text-heading-md {
  font-size: t.$font-size-lg;
  font-weight: t.$font-weight-semibold;
  color: sc.$color-text-base;
  line-height: t.$line-height-tight;
}

@mixin text-heading-sm {
  font-size: t.$font-size-md;
  font-weight: t.$font-weight-semibold;
  color: sc.$color-text-base;
  line-height: t.$line-height-normal;
}

@mixin text-body {
  font-size: t.$font-size-base;
  font-weight: t.$font-weight-normal;
  color: sc.$color-text-base;
  line-height: t.$line-height-relaxed;
}

@mixin text-caption {
  font-size: t.$font-size-sm;
  font-weight: t.$font-weight-normal;
  color: sc.$color-text-dim;
  line-height: t.$line-height-normal;
}

@mixin text-caption-sm {
  font-size: t.$font-size-xs;
  font-weight: t.$font-weight-normal;
  color: sc.$color-text-dimmer;
  line-height: t.$line-height-normal;
}

// ---- Chip ----
@mixin chip-base {
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: s.$space-xs s.$space-md;
  border-radius: s.$radius-full;
  font-size: t.$font-size-sm;
  font-weight: t.$font-weight-medium;
  line-height: t.$line-height-relaxed;
  cursor: pointer;
  border: none;
  box-shadow: inset 0 0 0 1px sc.$color-border-dim;
  background-color: sc.$color-bg-base;
  color: sc.$color-text-dim;
  transition: background-color e.$transition-fast, color e.$transition-fast, box-shadow e.$transition-fast;
}

@mixin chip-active {
  box-shadow: inset 0 0 0 2px sc.$color-border-stronger;
  color: sc.$color-text-base;
  font-weight: t.$font-weight-semibold;
}

@mixin chip-hover {
  &:hover:not(.chip-active) {
  box-shadow: inset 0 0 0 1px sc.$color-border-stronger;
  }
}

// ---- Tag (표시용 라벨, chip과 구분) ----
@mixin tag-base {
  display: inline-block;
  padding: s.$space-xs s.$space-md;
  border-radius: s.$radius-md;
  font-size: t.$font-size-sm;
  font-weight: t.$font-weight-medium;
  line-height: t.$line-height-relaxed;
}

@mixin tag-small {
  display: inline-block;
  padding: s.$space-2xs s.$space-sm;
  border-radius: s.$radius-sm;
  font-size: t.$font-size-xs;
  font-weight: t.$font-weight-medium;
  line-height: t.$line-height-relaxed;
}

// ---- Input ----
@mixin input-base {
  box-sizing: border-box;
  width: 100%;
  padding: s.$space-sm s.$space-lg;
  border: none;
  box-shadow: inset 0 0 0 1px sc.$color-border-dim;
  border-radius: s.$radius-md;
  font-size: t.$font-size-base;
  line-height: t.$line-height-relaxed;
  font-family: t.$font-family-fallback;
  color: sc.$color-text-base;
  background-color: sc.$color-bg-base;
  transition: box-shadow e.$transition-fast;
  &::placeholder {
    color: sc.$color-text-dimmer;
  }
  &:focus {
    outline: none;
    box-shadow: inset 0 0 0 1px sc.$color-border-focus, sc.$shadow-focus;
  }
}
