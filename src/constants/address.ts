/**
 * 한국 행정구역 주소 데이터
 * 시/도 → 구/군/시(동급) 단위로 정리
 * 위치 기준 모달 등에서 사용
 */

export interface SidoItem {
  /** 시/도 이름 (예: 서울, 전북) */
  name: string
  /** 하위 구/군/시 목록 */
  gugun: string[]
}

/** 시/도 코드 순서 (표시 순서용) */
export const SIDO_ORDER = [
  '서울',
  '경기',
  '인천',
  '강원',
  '경남',
  '경북',
  '광주',
  '대구',
  '대전',
  '부산',
  '세종',
  '울산',
  '전남',
  '전북',
  '제주',
  '충남',
  '충북',
] as const

/** 시/도별 구/군/시 데이터 */
export const ADDRESS_BY_SIDO: Record<string, SidoItem> = {
  서울: {
    name: '서울',
    gugun: [
      '강남구',
      '강동구',
      '강북구',
      '강서구',
      '관악구',
      '광진구',
      '구로구',
      '금천구',
      '노원구',
      '도봉구',
      '동대문구',
      '동작구',
      '마포구',
      '서대문구',
      '서초구',
      '성동구',
      '성북구',
      '송파구',
      '양천구',
      '영등포구',
      '용산구',
      '은평구',
      '종로구',
      '중구',
      '중랑구',
    ],
  },
  경기: {
    name: '경기',
    gugun: [
      '가평군',
      '고양시',
      '과천시',
      '광명시',
      '광주시',
      '구리시',
      '군포시',
      '김포시',
      '남양주시',
      '동두천시',
      '부천시',
      '성남시',
      '수원시',
      '시흥시',
      '안산시',
      '안성시',
      '안양시',
      '양주시',
      '양평군',
      '여주시',
      '연천군',
      '오산시',
      '용인시',
      '의왕시',
      '의정부시',
      '이천시',
      '파주시',
      '평택시',
      '포천시',
      '하남시',
      '화성시',
    ],
  },
  인천: {
    name: '인천',
    gugun: [
      '강화군',
      '계양구',
      '남동구',
      '동구',
      '미추홀구',
      '부평구',
      '서구',
      '연수구',
      '옹진군',
      '중구',
    ],
  },
  강원: {
    name: '강원',
    gugun: [
      '강릉시',
      '고성군',
      '동해시',
      '삼척시',
      '속초시',
      '양구군',
      '양양군',
      '영월군',
      '원주시',
      '인제군',
      '정선군',
      '철원군',
      '춘천시',
      '태백시',
      '평창군',
      '홍천군',
      '화천군',
      '횡성군',
    ],
  },
  경남: {
    name: '경남',
    gugun: [
      '거제시',
      '거창군',
      '고성군',
      '김해시',
      '남해군',
      '밀양시',
      '사천시',
      '산청군',
      '양산시',
      '의령군',
      '진주시',
      '창녕군',
      '창원시',
      '통영시',
      '하동군',
      '함안군',
      '함양군',
      '합천군',
    ],
  },
  경북: {
    name: '경북',
    gugun: [
      '경산시',
      '경주시',
      '고령군',
      '구미시',
      '군위군',
      '김천시',
      '문경시',
      '봉화군',
      '상주시',
      '성주군',
      '안동시',
      '영덕군',
      '영양군',
      '영주시',
      '영천시',
      '예천군',
      '울릉군',
      '울진군',
      '의성군',
      '청도군',
      '청송군',
      '칠곡군',
      '포항시',
    ],
  },
  광주: {
    name: '광주',
    gugun: ['광산구', '남구', '동구', '북구', '서구'],
  },
  대구: {
    name: '대구',
    gugun: [
      '남구',
      '달서구',
      '달성군',
      '동구',
      '북구',
      '서구',
      '수성구',
      '중구',
    ],
  },
  대전: {
    name: '대전',
    gugun: ['대덕구', '동구', '서구', '유성구', '중구'],
  },
  부산: {
    name: '부산',
    gugun: [
      '강서구',
      '금정구',
      '기장군',
      '남구',
      '동구',
      '동래구',
      '부산진구',
      '북구',
      '사상구',
      '사하구',
      '서구',
      '수영구',
      '연제구',
      '영도구',
      '중구',
      '해운대구',
    ],
  },
  세종: {
    name: '세종',
    gugun: [
      '가람동',
      '고운동',
      '금남면',
      '다정동',
      '대평동',
      '도담동',
      '반곡동',
      '보람동',
      '부강면',
      '새롬동',
      '소정면',
      '소담동',
      '아름동',
      '연기면',
      '연동면',
      '연서면',
      '장군면',
      '전동면',
      '전의면',
      '조치원읍',
      '종촌동',
      '한솔동',
      '해밀동',
    ],
  },
  울산: {
    name: '울산',
    gugun: ['남구', '동구', '북구', '울주군', '중구'],
  },
  전남: {
    name: '전남',
    gugun: [
      '강진군',
      '고흥군',
      '곡성군',
      '광양시',
      '구례군',
      '나주시',
      '담양군',
      '목포시',
      '무안군',
      '보성군',
      '순천시',
      '신안군',
      '여수시',
      '영광군',
      '영암군',
      '완도군',
      '장성군',
      '장흥군',
      '진도군',
      '함평군',
      '해남군',
      '화순군',
    ],
  },
  전북: {
    name: '전북',
    gugun: [
      '고창군',
      '군산시',
      '김제시',
      '남원시',
      '무주군',
      '부안군',
      '순창군',
      '완주군',
      '익산시',
      '임실군',
      '장수군',
      '전주시',
      '정읍시',
      '진안군',
    ],
  },
  제주: {
    name: '제주',
    gugun: ['서귀포시', '제주시'],
  },
  충남: {
    name: '충남',
    gugun: [
      '계룡시',
      '공주시',
      '금산군',
      '논산시',
      '당진시',
      '보령시',
      '부여군',
      '서산시',
      '서천군',
      '아산시',
      '예산군',
      '천안시',
      '청양군',
      '태안군',
      '홍성군',
    ],
  },
  충북: {
    name: '충북',
    gugun: [
      '괴산군',
      '단양군',
      '보은군',
      '영동군',
      '옥천군',
      '음성군',
      '제천시',
      '진천군',
      '청주시',
      '충주시',
      '증평군',
    ],
  },
}

/** 시/도 이름만 배열 (표시 순서) */
export const SIDO_NAMES: string[] = [...SIDO_ORDER]

/** 시/도 선택 시 해당 구/군/시 목록 반환 */
export function getGugunBySido(sido: string): string[] {
  return ADDRESS_BY_SIDO[sido]?.gugun ?? []
}

// ---------------------------------------------------------------------------
// 3단계: 시/구/동, 도/시·군/면
// key: `${sido}-${gugun}`, value: ["XX 전체", "동/면/읍", ...]
// ---------------------------------------------------------------------------
export const DONG_BY_SIDO_GUGUN: Record<string, string[]> = {
  // 서울 (시/구/동)
  '서울-강남구': ['강남구 전체', '개포동', '논현동', '대치동', '도곡동', '삼성동', '세곡동', '수서동', '신사동', '역삼동', '청담동', '압구정동'],
  '서울-강동구': ['강동구 전체', '강일동', '고덕동', '길동', '명일동', '상일동', '성내동', '암사동', '천호동'],
  '서울-강북구': ['강북구 전체', '미아동', '번동', '수유동', '우이동'],
  '서울-강서구': ['강서구 전체', '가양동', '개화동', '공항동', '방화동', '염창동', '오곡동', '외발산동', '우장산동', '화곡동'],
  '서울-관악구': ['관악구 전체', '남현동', '봉천동', '신림동'],
  '서울-광진구': ['광진구 전체', '광장동', '구의동', '군자동', '능동', '자양동', '중곡동', '화양동'],
  '서울-구로구': ['구로구 전체', '가리봉동', '개봉동', '고척동', '구로동', '궁동', '신도림동', '오류동', '온수동', '천왕동', '항동'],
  '서울-금천구': ['금천구 전체', '가산동', '독산동', '시흥동'],
  '서울-노원구': ['노원구 전체', '공릉동', '상계동', '월계동', '중계동', '하계동'],
  '서울-도봉구': ['도봉구 전체', '도봉동', '방학동', '쌍문동', '창동'],
  '서울-동대문구': ['동대문구 전체', '답십리동', '신설동', '용신동', '이문동', '장안동', '전농동', '제기동', '청량리동', '회기동', '휘경동'],
  '서울-동작구': ['동작구 전체', '노량진동', '대방동', '동작동', '본동', '사당동', '상도동', '신대방동', '흑석동'],
  '서울-마포구': ['마포구 전체', '공덕동', '구수동', '노고산동', '대흥동', '도화동', '동교동', '마포동', '망원동', '상암동', '서강동', '성산동', '연남동', '염리동', '용강동', '합정동'],
  '서울-서대문구': ['서대문구 전체', '남가좌동', '냉천동', '대현동', '미근동', '봉원동', '북아현동', '신촌동', '연희동', '영천동', '충정로동', '홍제동', '홍은동'],
  '서울-서초구': ['서초구 전체', '방배동', '반포동', '서초동', '양재동', '잠원동', '우면동', '원지동', '내곡동', '염곡동', '신원동'],
  '서울-성동구': ['성동구 전체', '금호동', '도선동', '마장동', '사근동', '송정동', '옥수동', '왕십리동', '응봉동', '하왕십리동', '홍익동'],
  '서울-성북구': ['성북구 전체', '길음동', '동선동', '동소문동', '보문동', '삼선동', '상월곡동', '석관동', '안암동', '월곡동', '장위동', '정릉동', '종암동'],
  '서울-송파구': ['송파구 전체', '가락동', '거여동', '마천동', '문정동', '방이동', '삼전동', '석촌동', '송파동', '오금동', '잠실동', '장지동', '풍납동'],
  '서울-양천구': ['양천구 전체', '목동', '신월동', '신정동'],
  '서울-영등포구': ['영등포구 전체', '당산동', '대림동', '도림동', '문래동', '신길동', '양평동', '여의도동', '영등포동'],
  '서울-용산구': ['용산구 전체', '갈월동', '남영동', '도원동', '동자동', '동부이촌동', '서부이촌동', '보광동', '산천동', '서빙고동', '원효로동', '이촌동', '이태원동', '청파동', '한강로동', '한남동', '효창동', '후암동'],
  '서울-은평구': ['은평구 전체', '갈현동', '구산동', '녹번동', '대조동', '불광동', '수색동', '신사동', '역촌동', '응암동', '진관동'],
  '서울-종로구': ['종로구 전체', '가회동', '견지동', '경운동', '계동', '공평동', '관수동', '관철동', '교남동', '교북동', '구기동', '궁정동', '낙원동', '내수동', '누상동', '누하동', '당주동', '도렴동', '돈의동', '동숭동', '명륜동', '묘동', '무악동', '봉익동', '부암동', '사직동', '삼청동', '서린동', '세종로', '소격동', '수송동', '숭인동', '신교동', '신영동', '안국동', '연건동', '연지동', '예지동', '옥인동', '와룡동', '운니동', '원남동', '원서동', '이화동', '익선동', '인사동', '인의동', '장사동', '재동', '적선동', '종로동', '중학동', '창성동', '창신동', '청운동', '청진동', '체부동', '충신동', '통의동', '통인동', '팔판동', '평동', '평창동', '필운동', '하늘동', '효제동', '홍지동', '홍파동', '화동', '효자동'],
  '서울-중구': ['중구 전체', '광희동', '다동', '동호동', '명동', '무학동', '방산동', '봉래동', '북창동', '산림동', '삼각동', '소공동', '신당동', '쌍림동', '예관동', '을지로동', '장충동', '저동', '정동', '주자동', '중림동', '초동', '충무로동', '충정로동', '태평로동', '필동', '황학동', '회현동'],
  '서울-중랑구': ['중랑구 전체', '면목동', '묵동', '상봉동', '신내동', '중화동'],
  // 인천 (시/구/동)
  '인천-연수구': ['연수구 전체', '동춘동', '선린동', '송도동', '옥련동', '연수동', '청학동'],
  '인천-서구': ['서구 전체', '가정동', '가좌동', '검단동', '경서동', '금곡동', '당하동', '마전동', '백석동', '불로동', '시천동', '신현동', '아라동', '연희동', '오류동', '왕길동', '원당동', '청라동'],
  '인천-남동구': ['남동구 전체', '구월동', '만수동', '장수동', '서창동', '논현동', '고잔동'],
  '인천-부평구': ['부평구 전체', '부평동', '십정동', '산곡동', '청천동', '삼산동', '갈산동', '부개동'],
  // 전북 (도/시·군/면)
  '전북-고창군': ['고창군 전체', '고수면', '고창읍', '공음면', '대산면', '무장면', '부안면', '상하면', '성내면', '신림면', '심원면', '아산면', '해리면', '흥덕면'],
  '전북-군산시': ['군산시 전체', '개정동', '경암동', '나운동', '대명동', '미원동', '삼학동', '소룡동', '수송동', '오식도동', '임피면', '조촌동', '중동', '해신동'],
  '전북-완주군': ['완주군 전체', '고산면', '구이면', '동상면', '봉동읍', '비봉면', '상관면', '소양면', '이서면', '경천면', '삼례읍', '용진면', '운주면', '화산면'],
  '전북-전주시': ['전주시 전체', '완산구', '덕진구'],
}

/** 구/군/시 선택 시 해당 동/면/읍 목록 반환 (시/구/동 또는 도/시·군/면) */
export function getDongBySidoGugun(sido: string, gugun: string): string[] {
  const key = `${sido}-${gugun}`
  const list = DONG_BY_SIDO_GUGUN[key]
  if (list?.length) return list
  // 데이터 없으면 "XX 전체"만 반환
  return [`${gugun} 전체`]
}

// ---------------------------------------------------------------------------
// 위치찾기(역지오코딩) 결과 → address 매핑 (동 이름은 바꾸지 않고 address에만 매핑)
// ---------------------------------------------------------------------------
export interface LocationFinderMapped {
  dong: string
  sido: string
  gugun: string
}

export const LOCATION_FINDER_TO_ADDRESS: Record<string, LocationFinderMapped> = {
  '송도1동': { dong: '송도동', sido: '인천', gugun: '연수구' },
  '송도2동': { dong: '송도동', sido: '인천', gugun: '연수구' },
  '송도3동': { dong: '송도동', sido: '인천', gugun: '연수구' },
  송도동: { dong: '송도동', sido: '인천', gugun: '연수구' },
  '청라1동': { dong: '청라동', sido: '인천', gugun: '서구' },
  '청라2동': { dong: '청라동', sido: '인천', gugun: '서구' },
  '청라3동': { dong: '청라동', sido: '인천', gugun: '서구' },
  청라동: { dong: '청라동', sido: '인천', gugun: '서구' },
  '연수1동': { dong: '연수동', sido: '인천', gugun: '연수구' },
  '연수2동': { dong: '연수동', sido: '인천', gugun: '연수구' },
  '연수3동': { dong: '연수동', sido: '인천', gugun: '연수구' },
  연수동: { dong: '연수동', sido: '인천', gugun: '연수구' },
  '옥련1동': { dong: '옥련동', sido: '인천', gugun: '연수구' },
  '옥련2동': { dong: '옥련동', sido: '인천', gugun: '연수구' },
  옥련동: { dong: '옥련동', sido: '인천', gugun: '연수구' },
  '동춘1동': { dong: '동춘동', sido: '인천', gugun: '연수구' },
  '동춘2동': { dong: '동춘동', sido: '인천', gugun: '연수구' },
  '동춘3동': { dong: '동춘동', sido: '인천', gugun: '연수구' },
  동춘동: { dong: '동춘동', sido: '인천', gugun: '연수구' },
  '역삼1동': { dong: '역삼동', sido: '서울', gugun: '강남구' },
  '역삼2동': { dong: '역삼동', sido: '서울', gugun: '강남구' },
  역삼동: { dong: '역삼동', sido: '서울', gugun: '강남구' },
  '삼성1동': { dong: '삼성동', sido: '서울', gugun: '강남구' },
  '삼성2동': { dong: '삼성동', sido: '서울', gugun: '강남구' },
  삼성동: { dong: '삼성동', sido: '서울', gugun: '강남구' },
  '논현1동': { dong: '논현동', sido: '서울', gugun: '강남구' },
  '논현2동': { dong: '논현동', sido: '서울', gugun: '강남구' },
  논현동: { dong: '논현동', sido: '서울', gugun: '강남구' },
  '개포동': { dong: '개포동', sido: '서울', gugun: '강남구' },
  '대치동': { dong: '대치동', sido: '서울', gugun: '강남구' },
  '도곡동': { dong: '도곡동', sido: '서울', gugun: '강남구' },
  '세곡동': { dong: '세곡동', sido: '서울', gugun: '강남구' },
  '수서동': { dong: '수서동', sido: '서울', gugun: '강남구' },
  '신사동': { dong: '신사동', sido: '서울', gugun: '강남구' },
  '청담동': { dong: '청담동', sido: '서울', gugun: '강남구' },
  '압구정동': { dong: '압구정동', sido: '서울', gugun: '강남구' },
}

/** 위치찾기 결과를 address(시/도·구·동)로 매핑. 없으면 정규화(OO2동→OO동) 후 시도·구는 빈 문자열 */
export function mapLocationFinderToAddress(rawName: string): LocationFinderMapped | null {
  const trimmed = (rawName ?? '').trim()
  if (!trimmed) return null
  const mapped = LOCATION_FINDER_TO_ADDRESS[trimmed]
  if (mapped) return mapped
  const dong = trimmed.replace(/^(.+?)([0-9]*)동$/, '$1동')
  return { dong: dong !== trimmed ? dong : trimmed, sido: '', gugun: '' }
}
